---
title: C语言指针
date: 2020-12-31 11:29:00
tags: [C,学习笔记,指针]
category: C
---



## C语言指针定义

C 语言中，指针一直都是一个核心部分，但是对于初学者来说，过于晦涩。

例如指针的定义中 **每个指针都必须指向某种特定的数据类型。（指向 void 类型的指针可以存防指向任何类型的指针，但是不能间接引用其中自身。*void 类似C# 的 object，或Go 中的 interface{}**）。

我们可以逐步拆解这几句话，再来了解它。“每个指针都必须指向某种特定的数据类型。”

[![skGi5Q.png](https://s3.ax1x.com/2021/01/05/skGi5Q.png)](https://imgchr.com/i/skGi5Q)

C 语言中没有值类型和引用类型的区别，它用指针来控制。通过上述代码我们已经将指针 b 指向了 a，那么我们可以使用 *b 来代替使用变量a。

[![skG3G9.png](https://s3.ax1x.com/2021/01/05/skG3G9.png)](https://imgchr.com/i/skG3G9)

> C语言的指针在函数入参使用时，是传值的方式将参数传递给函数，所以不使用指针是无非影响到函数外部的变量。
>
> 如果使用指针入参的方式传递，入参与指针共享某个变量的控制权。



## 数组与指针

在C语言中，指针和数组之间的关系十分密切。通过数组下标所能完成的任何操作都可以通过指针来完成。一般来说，用指针编写的程序比用数组下标编写的程序执行速度更快。

[![skGsxI.png](https://s3.ax1x.com/2021/01/05/skGsxI.png)](https://imgchr.com/i/skGsxI)

b 是一个指向数组 a 中第一个元素的指针，那么 b++ 将会对 b 进行自增运算，并指向下一个元素。C语言中的地址算术运算方法是一致且有规律的，指针配合数组和地址运算是C语言中的一大优点。

有时我们可能看到这样的传参方式：

[![skJKyt.png](https://s3.ax1x.com/2021/01/05/skJKyt.png)](https://imgchr.com/i/skJKyt)

这两种写法都可以将数组a[2] 元素传递给函数f，这两种写法都是合法的。但是要注意，第一种写法要掌握数组a的长度，以免数组越界。第二种写法个人不推荐，初次看到函数 f 容易对入参产生误判，要在函数声明头中确认入参的数据类型。

**指针和整数之间不能互相转换，但是0是唯一的例外：常量0可以赋值给指针，指针也可以和常量0进行比较。**

**常常也使用NULL 代替常量0。**

> 指针运算会自动考虑它所指向的对象长度。
>
> 有效的指针运算包含 **相同类型指针之间的赋值运算**，指针同整数之间的加减法运算；指向相同数组中元素的两个指针间的减法或比较运算；给指针赋值 0 或者比较运算。
>
> 其他形式的指针运算都是非法的。



## 指针数组以及指向指针的指针

指针本身也是变量，所以它们也可以像其他变量一样存储在数组中。







## 学习资料

《C程序设计语言》
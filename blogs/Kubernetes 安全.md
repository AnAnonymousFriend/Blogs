---
title: Kubernetes 安全实践
date: 2024-4-19 16:26:00
tags: [Kubernetes,安全]
category: Kubernetes
---

### 前言

Kubernetes 是一个开源的容器编排平台，它可以提供容器化应用的部署，管理和拓展。现如今Kubernetes已经成为容器编排的事实标准，越来越多的团队将自己的产品托管在Kubernetes上，随着这一趋势云原生技术也不断发展与演进，而安全一直是企业比较关注的核心问题之一。

RedHat在23年《[Kubernetes 安全状况报告](https://www.redhat.com/zh/resources/state-kubernetes-security-report-2023)》中提到：三分之二的受访者会因为Kunernetes 安全问题而延或减慢部署；容器和Kubernetes安全合规事件会造成负面影响;漏洞和配置错误是容器和Kubernetes环境的首要安全问题；少部分受访者的安全防护和DevOps是分开的；来自开源软件是软件供应链安全的担忧；

不同团队侧重方向不同，最终实践的安全防护也不相同，下文从几个方向来讨论安全这一主题。



### DevSecOps

什么是DevSecOps？DevSecOps和DevOps的区别在哪里？

DevSecOps(Develop,Security,Operation)分别代表了"开发，安全，运维",从字面上可以看出Security始终贯穿整个DevOps流程。这是因为随着发布速率和频率不断提高，传统的应用安全团队无法跟上发布的节奏。在过去，安全性总是由单独的安全团队在开发周期快要结束时才参与进来，随着产品快速迭代，安全团队无法确保每个发布都是安全的，正是因为这种脱节才衍生出DevSecOps的概念。

DevOps强调开发和运维团队之间的协作，以简化应用的开发周期，从此可以达成快速迭代抢占市场的模式，以此敏捷开发的管理方式也推广开来。DevSecOps将安全融入整个流程，这一点不仅体现在应用的开发过程中，而是所有。它的生命周期与DevOps类似，包括编码，构建，测试，部署，运行和监控，甚至包括规划和调研……每个阶段都应该包含强有力的安全检查或审核。

DevSecOps带来全新的文化冲击，这不仅要求开发人员熟知应用安全性的基本准则，也需要知道如何衡量风险，更需要知道如何实施或祢补损失。DevSecOps本意是希望借助一系列安全测试，漏洞扫描，安全审计等方式提前发现或修复潜在的安全漏洞。在开发阶段或测试阶段就能早早发现安全风险，并确保立即解决这些威胁。这总比事后补救要更好，毕竟一旦出现"补救"也就意味着已经造成"损失"。

现在我们可以回答第二个问题，它们之间的区别在哪里？

安全: 最主要的区别在于安全的整合，DevOps专注于开发和运维之间的协作，本质上并没有将安全作为整个流程的关键部分。DevSecOps则将安全作为整个交付流程中的一个综合因素。它更倡导安全当作首位因素，期望考虑到方方面面存在安全隐患的可能性。

安全团队介入时间点：上述我们提到过，传统的安全团队一般在开发周期将要结束时才会参与，DevSecOps在项目开始之初就融入到各个阶段。

工具的偏向：DevSecOps 会使用一些代码分析工具，自动安全测试或审查工具。DevOps则更偏向自动化和高效的流程管理。

DevSecOps和DevOps 本质上是两种不同的理念，并没有好坏之分，也不代表DevSecOps要优于DevOps。无论做出哪种选择，最终都要结合实际情况和最终目标来选择适合的。如果所在行业收到了严格监管，需要处理敏感的客户数据，比如需要通过某种监管才能出口，那么DevSecOps可能是比较明智的选择。反之，如果没有这些"束缚"，更在意的是快速迭代，那DevOps便是首选。

















将类似于SonarQube这样的自动化代码审查工具，用来检测代码中的错误，漏洞，在Devops的过程中对每一次的PR进行检查。这与传统的方式不同，过去安全性总是由单独的安全团队在开发周期结束时才参与进来，如今DevSecOps将应用和安全性无缝链接到敏捷和DevOps流程和工具中。

这使得安全性不在是安全团队独有的责任，参与应用开发的所有工程师都需要重视安全问题。











### Kubernete 原生安全防护



### 容器安全防护















### 资源来源

https://www.cnblogs.com/FLY_DREAM/p/17599368.html

https://www.ibm.com/cn-zh/topics/devsecops



